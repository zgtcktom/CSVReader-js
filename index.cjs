!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(this,(()=>(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};async function*n(e){let t=e.getReader();for(;;){let{done:e,value:n}=await t.read();if(e)break;yield n}}e.r(t),e.d(t,{CSVReader:()=>s});let r=async e=>{let t={async*[Symbol.asyncIterator](){for(;;){let{done:e,value:t}=await new Promise(((e,t)=>{onmessage=t=>{e(t.data)}}));if(e)break;yield t}}};onmessage=async n=>{let r=n.data;postMessage(await e(...r,t)),close()}},o=e=>{onmessage=t=>{let n=t.data;postMessage(e(...n)),close()}},i=(e,t)=>(importScripts(e),main(...t)),l=async(e,t,n)=>(importScripts(e),await main(...t,n));async function a(e,t=[],n=0){if("string"==typeof e)return n?a(l,[e,t],n):a(i,[e,t]);let s;if("function"==typeof e){let t="("+(n?r:o).toString()+")("+e.toString()+");",i=new Blob([t],{type:"application/javascript"});s=new Worker(URL.createObjectURL(i))}if(s.postMessage(t),n){for await(let e of n)s.postMessage({done:!1,value:e});s.postMessage({done:!0,value:null})}return new Promise(((e,t)=>{s.onmessage=t=>{e(t.data),s.postMessage("asd")},s.onerror=e=>{t(e)}}))}const s=function e(t,r){if("undefined"!=typeof WorkerGlobalScope&&this instanceof WorkerGlobalScope)return async function(){let e,n,o,i,a=0;for await(let s of r)[e,n,o,i]=l(s,t,e,n,o,i),a++;return i.length&&o.push(i),o.length&&n.push(o),console.log("postMessage count:",a),n}();function o(t,n){if(n.worker)return console.log("readSync: use worker"),a(e,[n],[t]);let[r,o,i,s]=l(t,n);return s.length&&i.push(s),i.length&&o.push(i),o}async function i(t,r){if(r.worker)return console.log("readAsync: use worker"),a(e,[r],n(t));let o,i,s,u,f=0;for await(let e of n(t))f++,[o,i,s,u]=l(e,r,o,i,s,u);return u.length&&s.push(u),s.length&&i.push(s),console.log("loaded",f,"chunks"),i}function l(e,t,n=null,r=[],o=[],i=""){let{delimiter:l,lineTerminator:a,doubleQuote:s,quoteChar:u,skipInitialSpace:f,commentChar:c}=t,d=0,p=-2,h=-2,g=s?u:u+u;if(3==n){if(-1!=h&&h<d&&(h=e.indexOf(a,d)),-1==h)return[3,r,o,""];d=h+a.length,n=null}if(1==n&&(e[d]==u?(i+=g,d+=1,n=0):n=2),0==n){for(;;){let t=e.indexOf(u,d);if(-1==t)return[0,r,o,i+e.slice(d)];if(i+=e.slice(d,t),d=t+1,d>=e.length)return[1,r,o,i];if(e[d]!=u)break;i+=g,d+=1}n=2}if(2==n){if(p=e.indexOf(l,d),h=e.indexOf(a,d),-1==p&&-1==h)return[2,r,o,i+e.slice(d)];-1==h||-1!=p&&p<h?(i+=e.slice(d,p),d=p+l.length,o.push(i),i=""):(i+=e.slice(d,h),d=h+a.length,o.push(i),i="",r.push(o),o=[])}for(;d<e.length;){if(f)for(;" "==e[d];d++);let t=e[d];if(c&&t==c){if(-1!=h&&h<d&&(h=e.indexOf(a,d)),-1==h)return[3,r,o,""];d=h+a.length,t=e[d]}if(t==u)for(d+=1;;){let t=e.indexOf(u,d);if(-1==t)return[0,r,o,i+e.slice(d)];if(i+=e.slice(d,t),d=t+1,d>=e.length)return[1,r,o,i];if(e[d]!=u)break;i+=g,d+=1}if(-1!=p&&p<d&&(p=e.indexOf(l,d)),-1!=h&&h<d&&(h=e.indexOf(a,d)),-1==p&&-1==h)return[2,r,o,i+e.slice(d)];-1==h||-1!=p&&p<h?(i+=e.slice(d,p),d=p+l.length,o.push(i),i=""):(i+=e.slice(d,h),d=h+a.length,o.push(i),i="",r.push(o),o=[])}return[null,r,o,i]}function s(e,{delimiter:t=",",lineTerminator:n="\n",doubleQuote:r=!0,quoteChar:o='"'}={}){return e.map((e=>e.map((e=>(((e=e.toString()).includes(o)||e.includes(t)||e.includes(n))&&(e='"'+(r?e.replaceAll(o,o+o):e)+'"'),e))).join(t))).join(n)+n}return class{static stringify=s;constructor(e,{worker:t=!1,delimiter:n=",",lineTerminator:r="\n",doubleQuote:l=!0,quoteChar:a='"',skipInitialSpace:s=!1,commentChar:u="#"}={}){if(1!=a.length)throw new Error("quoteChar must be one-character");if(1!=u.length)throw new Error("commentChar must be one-character");let f={worker:t,delimiter:n,lineTerminator:r,doubleQuote:l,quoteChar:a,skipInitialSpace:s,commentChar:u};if("string"==typeof e)this.read=o.bind(this,e,f);else{if(!(e instanceof ReadableStream))throw new Error("unexpected input type");this.read=i.bind(this,e,f)}}}}();return t})()));